var Q=Object.defineProperty;var m=(g,o,A)=>o in g?Q(g,o,{enumerable:!0,configurable:!0,writable:!0,value:A}):g[o]=A;var r=(g,o,A)=>(m(g,typeof o!="symbol"?o+"":o,A),A);import{p as U,P as h}from"./vendor.aaac7e08.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function A(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=A(t);fetch(t.href,s)}})();const y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABgAAAAMABAMAAAAQ+LH/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURbus6q20/zduWa3P/6fbdJuU1UGFU0yvUIvDShhKGQAAAFI6D5HJXN5KIAAAAAtLSURBVHja7NjbbcIwAIZRVsgsWYEVukJWyApZIStkykaxakWhtJAbsX3OA6rggWL/Hw/cvqBgN0eAAEAAIAAQAAgABAACAAGAAEAAIICD/htuvpIEIAAEIAAEIAAEIAAEIAByC8DWlSAABCAABCAABCAABCAABPCREZp4OXmIVgACEIAABCAAAQhAAAIQgAAEIICSA1j3GWyRKwd/+Du5GwQAAgABgAAg2QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyF71vgw+QoofEwEIAAEIAAEIAAEIAAEIgA/OJb/da0MAAhCAAAQgAAEIQAACEIAABCAAAZj+RWZRXZiZCUAACEAACEAACEAACEAAFPhz4ca5VBmxQwEIAAEIAAEIAAEIAAEIgGLXXyabFIAAEIAAEIAAEIAAEIAAsHslIAABIAABIAABIAABIAABYPqqQAACQAACQAACQAACQAACwHSUIAAEIAAEIAAEIAAEIAAEYPHwa1e7F3hez+4SAYAAQAAgAEgngH/fxm2Rc4oCQAACQAACQAACQAACoLAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAggI3q4xmBAASAAASAAASAAASAAASAAPKbuxIQgAAQgAAQgAAEIAABCEAAAhBACSsXSVpfdgIQgAAEIAABCEAAAhCAAAQgAAEIILkA6kyZ8gkbEIAABCAAAQhAAAIQgAAEIAABCEAA1w+gRi37LUEAAhCAAAQgAAEIQAACEIAABCAAAawOwCg5YmGpfF4BIAAQAAgAAQgAAQgASiAABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAEgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAABOAIEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAASAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAQAAgABAACAAEAAIAAYAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAgABgABAACAAEAAIAAQAAkAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAJwBAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAIAAQAAgABAACAAGAAEAAe7n/yfUjAAQgAAQgAAQgAAQgAASQ8e6VgAAEgAAEIAABCEAAAkAAAkAAJcxdEhtPVQACEIAABCAAAQhAAAIQgAAEIAABCOCa+26aZnzsui4+SuLZCbdtGx/nzyyezObEBCAAAQhAAAIQgAAEIAABCEAAAhBAHr9phun3fT/uvv2xuoEz7/V+vPmyw7GEP8ZnhmEIL4Unu0n74PUwBCAAAQhAAAIQgAAEIAABCEAAAhCAAA6673H64501k34S/3h2YfGyX+wkucXHrc9HHw5kEUN4acxgXsUij1jF/MTe/YoRgAAEIIDv9u72xm0YBgDoLpnlZsksnaUrZIUbqgaEEqwky4oTJ+n58cfBSJ0Pi3z+QdAqAAAAAAAAAAAAAAAAAPCDAbwgxzkTS7YKg3JQ0lbVfTkopfDr3zg6hV8vjFydeYkKg+7lLy8u61b+tgtbgWklPN5rPrphDQAAAAAAAAAAAAAAAAAAAAAAAPyP010lVW0Wr3/jdrsFgzadUQQ7ZuYOWo1rL3avTxkKzLZzizNffrfc24VtT+uufzkh35senEd8IgYAAAAAAAAAAAAAAAAAAAAAAADgjaV/vSfWUpV7c+05+Um/3PLL0b7rQQaHrsOmk+5ClcvsXn53ffLCdk/r3kTy45TB4PUGugEAAAAAAAAAAAAAAAAAAAAAAOcBcMSA0REpv6zEWqoiE5PpDCoR7bsOysH1+KgWKo6ru0a+9mp9brdbxSMfVyryTWT5+5V2Xc+d0Bf0Q7vzeTmbAAAAAAAAAAAAAAAAAAAAAAAAwIMGnpX1y1a0OfjdxCBPUeh5UGxJ9lpHb0d8f38fXfSXiZi8Iyx/q1ovr5c5whyx0VilottvjX3q8/c+srCbHerud1W3PAAAAAAAAAAAAAAAAAAAAAAAAGC3hKd0/S73xHwOBlNuMRAWftY++dOanrsXanzXaMt9sN1Y9cbBU6lxu6lG5caN5t3PZ1Zjka0BAAAAAAAAAAAAAAAAAAAAAAA4J4Cy2/VMg+m4xOeExYVtprbKwdqE3GDKrbtPVvvJ+zaoeku5jxeqa3s5YSnfavWiIzzYbqzsOBYHla7Bzah8b/WAa3vVk7OMy5njscjuk7EAAAAAAAAAAAAAAAAAAAAAAHAeAJvbW7++9KMpGQcz2S3JW5uQi3O6U27dJe5+8vXlcXl2xOXkW0Z5PQBExURns1qxXLJVn7Tbb127Ga1tbZaLYfPBy+XF+D2D3m73lwAAAAAAAAAAAAAAAAAAAAAAwNkAjLe3PrT621Zdd1Jtpsc3npCLc7r/2gXTfvJuBpfPiFLQXdu5Dbq2B9ZgmnCwv1iLJ9qma13OwSxjzDvmyPN5IaE85hrf1f4SAAAAAAAAAAAAAAAAAAAAAAA4FYDNBtMRdT9+cq9djslO6HhCbu2EAZgfGbnoKw9r61Ot58x02phTHi6c7Ep3s7l8RUtlbXix+0sAAAAAAAAAAAAAAAAAAAAAAOBUANqhonj/ce3OAYC2V7UcPJ7szVIYaDlntKtXTcsN7puFVjt4N+hvbnalq98Ts3oVlTitW4cVDwAAAAAAAAAAAAAAAAAAAADEeQC0L8UOR09/1nEeQLUcuwHcW81jMGeLdvXGXePxTWRt5/S2Z73WOW2z093nPZ/Qrck8igcAAAAAAAAAAAAAAAAAAACAOBWA6qW3b+fU/vdsb0y52EzT5B2ku8HWTFd6kJTNKcbNQgUAAAAAAAAAAAAAAAAAAABAnA3AB27nrSP5+dHmaPCM5Wa9tu+dqYFNKgAIAAAQAAAgAABAAACAAOCJAF6zuOLzAczE/HOn813p8S8BQAAAgAAAAAEAAAIAAAQAmwD+u8UVP1jOI1QAEAAAIAAAQAAAgAAAAAHAB5b+5CUJAO4NAAQAAAgAABAAACAAAEAA8GnVL8RrMAAgAABAAACAAAAAAQAA4jQA/gBEpjpwptQubwAAAABJRU5ErkJggg==",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAABsBAMAAABZfQd7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAPUExURUdwTCMkJAAAAMXW1ldeXklHia8AAAABdFJOUwBA5thmAAAAiklEQVRYw+3X2w2AIAxAUVdgha7ACuw/k0RiQsBXU6Qm3vuFRM6fWpeFiGyFEG53IKYR+e6UUn2m7EA4EodBvE2cwRCfIsJlEI5EjLE+XC4hIH5FNEpei4juMYMYTTRvOtlSDxcQQ4n+8yNd6hEPwkaoZwIIV8L6JwRhIJ5sQswh+gNlDeFIENHeCmNUrCF1eckAAAAAAElFTkSuQmCC",w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAABsBAMAAABZfQd7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAPUExURUdwTCMkJAAAAMXW1ldeXklHia8AAAABdFJOUwBA5thmAAAAiUlEQVRYw+3YwQ2AIAxAUVboCqzACuw/kyYkpimCaCxE8//JEPsuXBpCICL6XSJyeQIxjdj/zjnrmXICsZA4DcKV6KgQS4iWIt0gFhIppfobwpXQirk8Pa9PICYQphhjx4LwJmrFEEP7BYQnURTT7f0O4ilRrkrGgvAmjvnBV4DmfgHxEkFE9IU2v0WsIXMYTy8AAAAASUVORK5CYII=",O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApQAAABsBAMAAAAmvz9SAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAPUExURUdwTCMkJAAAAMXW1ldeXklHia8AAAABdFJOUwBA5thmAAABpElEQVR42u3dwY2DMBAFUFpwC24hLdB/TXuIhKIABnscL4j3b0HMxPPwIQKkTJOIiIjITlJKh0d+3QElSpQoUaJ8FGUXhXmeP6veR0Z2QIkSJUqUKB9F2WWGtJORHbpsi1A5SpQoUaJEOZYyPsNFKIPbIrqrUKJEiRIlyltRpmL6dig3DM4SpUCJEiVKlCh/QLnZMa7w2eT1en2Wvz9271DoiRIlSpQoUT6NsllhPOXXzLXbYm9JFbsKJUqUKFGivD9lOkpbVaRDeZbDhscUKFGiRIkS5UDKry4ppZzzT58lnD95byVVX7o0ObQo/4RCiRIlSpQor0b5VZlzrp1hr1teZfPkAseZDm3XY/O9hEg5SpQoUaJEOZ4yMkPVzYhgecO9jOAvqpZdhRIlSpQoUQ6kjLwLuJwQvA8SuRhp6zXBhm2xeTFqdxVKlChRokR5EcpyVaHJcsIh5flHHVNlTi4guJ9QokSJEiXK/6U8c7Bq6VWTdE/bt+89rkCJEiVKlCgvSLkuaF7HdOd/xVmvv2UilChRokSJciCliIiIiIiIiPTOH2C6Uz5O7MdOAAAAAElFTkSuQmCC",S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAABgAgMAAAA2rpV6AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJUExURUdwTMzj/+Py/Y8SD8UAAAABdFJOUwBA5thmAAAAcklEQVRYw+2VMQ6AIAxFu7h4vy6cjoWlpzSCStWKTYxT/5sIvMfQpUQA/Ibs9HNGYNsnEIxVBE4bQWMWJ3EDy2ZmBK+BFLa/yKEDrhxvFxDoYL0t/ASCgacnHjdoGzGTJ1ArNFywMVliqhNPdztqAMAnFqs7l9wW1EYnAAAAAElFTkSuQmCC",G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAABgAgMAAAA2rpV6AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURUdwTMzj/+Py/f///xy6xqMAAAABdFJOUwBA5thmAAAAiklEQVRYw+3WoRKAIBCEYYrFp7Ns8ekslCu8mtmCxcGDOcCx3v6J4Fd2cIYQ2O9WERGCQVI6COwpmwi6X0cAmC3rD9SDAgqo8klQbWqblAlsECvpFkjKPaB7759XkK/2/+yawyuQ+abY1WPCJSg3bzAoQXl3YpjxUHUGnhaCDyAEANiqwySXgHW6AdRJQKzGNp6qAAAAAElFTkSuQmCC",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAABgAgMAAAA2rpV6AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURUdwTP///8zj/+Py/W/9mv8AAAABdFJOUwBA5thmAAAAoElEQVRYw+2XoRLCMAxAYzCY/drM0/s1dEy/rmYmiBQG3VbgDpc81SR9Eb1eLxXZc4HF5AdiCJM5gIgA9kIKzlasACy2h1kA7xhRmN4LZwL4cccU+krFDqmtUQpjIgvd5ftITKFPrKrlPExh1Se+NrMWpvDIDmi9SgopjAR/xEfbi6XgE5V+QZvmQwoiwmJyVVXV2/ZtORAqzBJWSJJ/cAd1gSs0839z+gAAAABJRU5ErkJggg==",k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0AQMAAAAHA5RxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURUdwTPXzk3qyReoAAAABdFJOUwBA5thmAAABXUlEQVRYw+3XMW7EIBAF0I8o6OILRPI10nGzNUfjKBzBpQtrfwoW25BtZkCKI4XCxWssYDzzDZzL4/368576fYq9Pm3l6Qa4KT5FALvGmQAYZreMgNP53rpPCodjyJfoEmCfgKHKwed5WnbN79K4ZTw9lJOUO5atqo1F61PlM7VuNgBYyAAA87F9qefTI8kIYA497kmS7HWTme0nKfFc1XntHT4HYHk5w1lXUrcBtjBXYFI6gPnwZ1UeXV7VmMx5rvjLvjCNcJI73MW3OcCuI5yk3JFb5cXtIL8c57+P9Tt9F4Z74w+9V30gzzWp/+wnHV71SaP3qm9Xs1vo7+aIxkfMwWbO6n2J17n/qfVXTR45ZNV6M5uU7pq7K7lI6r7JEiVGCj3n8wdyHt6P3Ch35DgNlwCGkh/EvpU9+gRwLflc6h/Hmft0uRSxHxELPuWc3+G3+z8d6oP29XUD/waQPgVIs2j9vwAAAABJRU5ErkJggg==",b=""+new URL("bgm.6e370245.mp3",import.meta.url).href,v=""+new URL("jump.e996d63b.mp3",import.meta.url).href,x=""+new URL("game_over.05d62960.mp3",import.meta.url).href,R=800,B="bg",V=1356,F=768,Y=1,p="sun",E=270,l=270,M=.3,C="cloud1",c="cloud2",I="cloud3",a={width:192,height:96,speed:300,maxSpeed:400,interval:2100,spacing:260,levelConter:40},e={width:132,height:108,boundWidth:100,boundHeight:70,boundOffsetX:22,boundOffsetY:16,animeWidth:660,animeHeight:108,annimeDuration:600,pic:"cat",cryPic:"cat-cry",sprite:"cat-run",jumpPower:500,jumpAngle:-20,jumpTime:100,maxDropAngle:20,dropAngleSpeed:1.1};class J extends U.exports.Scene{constructor(){super("start")}preload(){const{width:o,height:A}=this.sys.canvas,i=this.add.text(o/2,A/5*4,"0%").setFontSize(42).setColor("#fff");this.load.on("progress",t=>{i.setText(Math.floor(t*100)+"%")}),this.load.image(B,y),this.load.image(e.pic,f),this.load.image(e.cryPic,w),this.load.image(C,S),this.load.image(c,G),this.load.image(I,P),this.load.image(p,k),this.load.spritesheet(e.sprite,O,{frameWidth:e.width,frameHeight:e.height}),this.load.audio("bgm",b),this.load.audio("jump",v),this.load.audio("game_over",x)}create(){this.gameStart()}gameStart(){this.scene.start("round")}}class T extends h.Scene{constructor(){super("round");r(this,"point",0);r(this,"soundBgm");r(this,"soundJump");r(this,"soundGameOver");r(this,"bg");r(this,"startWord");r(this,"sun");r(this,"score");r(this,"player");r(this,"pipes");r(this,"playerAlive");r(this,"isStart",!1);r(this,"gameOver",()=>{!this.playerAlive||(this.player.anims.pause(),this.player.setTexture("cat-cry"),this.player.setVelocityY(-e.jumpPower/2),this.playerAlive=!1,this.isStart=!1,this.time.removeAllEvents(),this.pipes.getChildren().forEach(A=>{A.setVelocityX(0)}),this.soundBgm.pause(),this.soundGameOver.play(),this.soundGameOver.once("complete",()=>{this.sound.stopAll(),this.scene.start("start")}))})}create(){this.setSound(),this.setBg(),this.setContrler(),this.setAnimes(),this.setPoint(),this.setCloud(),this.setPlayer(),this.setStartWord(),this.physics.add.overlap(this.player,this.pipes,this.gameOver)}update(){this.bg.tilePositionX+=Y,this.sun.angle+=M,this.isStart&&this.player.angle<e.maxDropAngle&&(this.player.angle+=e.dropAngleSpeed),(this.player.y>this.sys.canvas.height||this.player.y<0)&&this.playerAlive&&this.gameOver(),this.destroyOutOfBoundsPipe()}setSound(){this.soundBgm=this.sound.add("bgm"),this.soundJump=this.sound.add("jump"),this.soundGameOver=this.sound.add("game_over"),this.soundBgm.play({loop:!0})}setBg(){const{width:A,height:i}=this.sys.canvas,t=i/F,s=Math.max(A/V,t);this.bg=this.add.tileSprite(0,0,A,i,B).setOrigin(0,0).setTileScale(s,t)}setPoint(){const A=this.add.container(E/8,l/8).setDepth(2);this.sun=this.add.image(0,0,p).setDisplaySize(E,l),this.score=this.add.text(-6,-12,`${this.point}`).setFontSize(52).setAlign("center").setFontStyle("bold").setColor("#e69005"),A.add(this.sun),A.add(this.score)}setStartWord(){const{width:A,height:i}=this.sys.canvas;this.startWord=this.add.text(A/2,i/2,"\u70B9\u51FB/\u952E\u76D8\u7A7A\u683C\u5F00\u59CB\u6E38\u620F~").setFontSize(28).setColor("#f4fcff")}setAnimes(){this.anims.create({key:e.sprite,hideOncomplete:!1,frames:e.sprite,duration:e.annimeDuration,repeat:-1})}setPlayer(){const{width:A}=this.sys.canvas;this.player=this.physics.add.sprite(A/3,this.sys.canvas.height/3*1,e.pic).setDisplaySize(e.width,e.height).setSize(e.boundWidth,e.boundHeight).setOffset(e.boundOffsetX,e.boundOffsetY).play("cat-run").setDepth(1),this.playerAlive=!0}setContrler(){this.input.once("pointerdown",this.start,this);const A=this.input.keyboard.addKey(h.Input.Keyboard.KeyCodes.SPACE);A.once("down",this.start,this),this.input.on("pointerdown",this.jump,this),A.on("down",this.jump,this)}start(){this.player.setGravityY(R),this.isStart=!0,this.startWord.destroy()}jump(){!this.playerAlive||(this.soundJump.play(),this.add.tween({targets:this.player,props:{angle:{value:e.jumpAngle,duration:e.jumpTime}}}),this.player.setVelocityY(-e.jumpPower))}setCloud(){this.pipes=this.physics.add.group(),this.time.addEvent({delay:a.interval,loop:!0,startAt:0,callback:()=>{if(!this.isStart||!this.playerAlive)return;const A=this.sys.canvas.height,i=this.sys.canvas.width+a.width,t=A/5,s=Math.floor((Math.random()+.5)*t),n=Math.floor((Math.random()-.5)*t),u=Math.floor((Math.random()-.5)*a.spacing/4),d=this.getCloudPicName();this.pipes.get(i+n,s,d).setDisplaySize(a.width,a.height).setVelocityX(this.levelSpeed()),this.pipes.get(i+n,s+a.height+a.spacing+u,d).setDisplaySize(a.width,a.height).setVelocityX(this.levelSpeed())}})}getCloudPicName(){return[C,c,I][Math.floor(Math.random()*2)+1]}levelSpeed(){const A=a.speed+Math.floor(this.point/10)*(a.maxSpeed-a.speed)/a.levelConter;return A>a.maxSpeed?-a.maxSpeed:-A}destroyOutOfBoundsPipe(){this.pipes.getChildren().forEach(A=>{const i=A.getBounds();i.right<this.sys.canvas.width/3-e.width/3&&!A.scored&&(A.scored=!0,this.point+=.5,this.score.setText(`${this.point}`)),i.right<0&&A.destroy()})}}function X(){return new h.Game({title:"flappy cat",version:"1.0.0",type:h.AUTO,width:window.innerWidth,height:window.innerHeight,parent:"app",autoFocus:!0,physics:{default:"arcade",arcade:{debug:!1}},scene:[J,T]})}X();
